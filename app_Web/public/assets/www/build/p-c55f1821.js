import{m as e,a as o}from"./p-c3d35135.js";import{G as t,n,M as a}from"./p-f2477f10.js";function s(e){if(e&&e.instanceof){if(e.instanceof("control.IPSControl"))return"control.IPSControl";if(e.instanceof("app.view.IPSAppView"))return"app.view.IPSAppView"}return""}class i{static async objModel(o){const t={item:o},n=await e.create({component:"app-model-main",componentProps:t});await n.present()}static async arrModel(o){const t={item:o},n=await e.create({component:"app-model-list",componentProps:t});await n.present()}}const p=new class{constructor(){this.store=t.getInstance()}get appLoaded(){return this.store.data.appLoaded}async openDesignView(e){if(this.openDesignCallback){e.isFill||await e.fill();const t=s(e);if(n(t)){const o=e.getPSModelService(),n=function(e){return e.getPSModelService().getParentPSModelObject(e,"app.view.IPSAppView")}(e),a=s(n);this.openDesignCallback({dynaInstId:o.app.M.getPSDynaInstId,previewModelType:a,previewModel:n.M,modelType:t,model:e.M})}else o.create({header:"抱歉",subHeader:"无法打开设计视图!",message:"当前模型尚未支持打开设计视图，敬请期待.",buttons:["确认"]}).then((e=>e.present()))}}setConfig(e,o,t,n){const a=this.store.data;a.modelService=e,a.model=o,a.context=t,a.params=n}async openView(e){e&&e.instanceof?e.instanceof("app.view.IPSAppView")&&(e.isFill||await e.fill(),i.objModel(new a(e))):console.warn("给予模型类型不正确，请检查!",e)}};export{i as O,p as a}