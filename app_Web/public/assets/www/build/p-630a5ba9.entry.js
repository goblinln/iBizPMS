import{r as t,f as s,h as i}from"./p-38dcedc4.js";import{n as o,g as l}from"./p-8d47f7b8.js";import{m as e}from"./p-3935e744.js";const n=class{constructor(s){t(this,s),this.$model=null,this.modelObj={},this.cfg=[]}get model(){var t;return this.$model||(this.$model=null===(t=as.modelService)||void 0===t?void 0:t.app),this.$model}get pModel(){var t,s;return this.$pModel||(this.$pModel=null===(s=null===(t=as.modelService)||void 0===t?void 0:t.parentInstance)||void 0===s?void 0:s.app),this.$pModel}get title(){if(as.modelService.pExist){const t=as.modelService.getDynaInsConfig();return`${t.name}[${t.instTag}]`}return this.model.name}componentWillLoad(){this.calcModel()}async calcModel(t=0){t>100?console.warn("模型计算超时!"):o(this.model)?(this.cfg=await e.getConfigJson(this.model),this.modelObj=l(this.model),s(this)):setTimeout((()=>{this.calcModel(++t)}),100)}render(){return this.model?[i("ion-header",{translucent:!0},i("ion-toolbar",null,i("ion-title",null,this.title),as.modelService.pExist?i("ion-badge",{slot:"end"},"子实例"):null)),i("ion-content",{fullscreen:!0},i("ibz-model-list",{model:this.model,modelObj:this.modelObj,cfg:this.cfg}))]:null}};n.style="";export{n as app_home}