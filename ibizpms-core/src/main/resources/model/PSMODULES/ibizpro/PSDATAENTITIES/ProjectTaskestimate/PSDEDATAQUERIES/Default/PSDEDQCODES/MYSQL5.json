{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "getPSDEDataQueryCodeConds" : [ {
    "condType" : "CUSTOM",
    "customCond" : "t1.project =#{srf.webcontext.project}",
    "name" : "查询条件"
  } ],
  "queryCode" : "SELECT T1.* FROM (SELECT\n\tt1.account,t1.project,t1.projectname,t1.`YEAR`,concat(t1.`YEAR`, t1.`MONTH`) as `MONTH`,\n\tsum(if(t1.`day` = '01',t1.consumed, 0)) as oneconsumed,\n\tsum(if(t1.`day` = '02',t1.consumed, 0)) as twoconsumed,\n\tsum(if(t1.`day` = '03',t1.consumed, 0)) as threeconsumed,\n\tsum(if(t1.`day` = '04',t1.consumed, 0)) as FOURONSUMED,\n\tsum(if(t1.`day` = '05',t1.consumed, 0)) as fiveconsumed,\n\tsum(if(t1.`day` = '06',t1.consumed, 0)) as sixconsumed,\n\tsum(if(t1.`day` = '07',t1.consumed, 0)) as sevenconsumed,\n\tsum(if(t1.`day` = '08',t1.consumed, 0)) as eightconsumed,\n\tsum(if(t1.`day` = '09',t1.consumed, 0)) as nineconsumed,\n\tsum(if(t1.`day` = '10',t1.consumed, 0)) as tenconsumed,\n\tsum(if(t1.`day` = '11',t1.consumed, 0)) as elevenconsumed,\n\tsum(if(t1.`day` = '12',t1.consumed, 0)) as twelveconsumed,\n\tsum(if(t1.`day` = '13',t1.consumed, 0)) as thirteenconsumed,\n\tsum(if(t1.`day` = '14',t1.consumed, 0)) as fourteenconsumed,\n\tsum(if(t1.`day` = '15',t1.consumed, 0)) as fifteenconsumed,\n\tsum(if(t1.`day` = '16',t1.consumed, 0)) as sixteenconsumed,\n\tsum(if(t1.`day` = '17',t1.consumed, 0)) as seventeenconsumed,\n\tsum(if(t1.`day` = '18',t1.consumed, 0)) as eighteenconsumed,\n\tsum(if(t1.`day` = '19',t1.consumed, 0)) as nineteenconsumed,\n\tsum(if(t1.`day` = '20',t1.consumed, 0)) as twentyconsumed,\n\tsum(if(t1.`day` = '21',t1.consumed, 0)) as twentyoneconsumed,\n\tsum(if(t1.`day` = '22',t1.consumed, 0)) as twentytwoconsumed,\n\tsum(if(t1.`day` = '23',t1.consumed, 0)) as twentythreeconsumed,\n\tsum(if(t1.`day` = '24',t1.consumed, 0)) as twentyfourconsumed,\n\tsum(if(t1.`day` = '25',t1.consumed, 0)) as twentyfiveconsumed,\n\tsum(if(t1.`day` = '26',t1.consumed, 0)) as twentysixconsumed,\n\tsum(if(t1.`day` = '27',t1.consumed, 0)) as twentysevenconsumed,\n\tsum(if(t1.`day` = '28',t1.consumed, 0)) as twentyeightconsumed,\n\tsum(if(t1.`day` = '29',t1.consumed, 0)) as twentynineconsumed,\n\tsum(if(t1.`day` = '30',t1.consumed, 0)) as thirtyconsumed,\n\tsum(if(t1.`day` = '31',t1.consumed, 0)) as thirtyoneconsumed,\n\tsum(if(t1.`day` = '01',t1.EVALUATIONTIME, 0)) as oneEVALUATIONTIME,\n\tsum(if(t1.`day` = '02',t1.EVALUATIONTIME, 0)) as twoEVALUATIONTIME,\n\tsum(if(t1.`day` = '03',t1.EVALUATIONTIME, 0)) as threeEVALUATIONTIME,\n\tsum(if(t1.`day` = '04',t1.EVALUATIONTIME, 0)) as fourEVALUATIONTIME,\n\tsum(if(t1.`day` = '05',t1.EVALUATIONTIME, 0)) as fiveEVALUATIONTIME,\n\tsum(if(t1.`day` = '06',t1.EVALUATIONTIME, 0)) as sixEVALUATIONTIME,\n\tsum(if(t1.`day` = '07',t1.EVALUATIONTIME, 0)) as sevenEVALUATIONTIME,\n\tsum(if(t1.`day` = '08',t1.EVALUATIONTIME, 0)) as eightEVALUATIONTIME,\n\tsum(if(t1.`day` = '09',t1.EVALUATIONTIME, 0)) as nineEVALUATIONTIME,\n\tsum(if(t1.`day` = '10',t1.EVALUATIONTIME, 0)) as tenEVALUATIONTIME,\n\tsum(if(t1.`day` = '11',t1.EVALUATIONTIME, 0)) as elevenEVALUATIONTIME,\n\tsum(if(t1.`day` = '12',t1.EVALUATIONTIME, 0)) as twelveEVALUATIONTIME,\n\tsum(if(t1.`day` = '13',t1.EVALUATIONTIME, 0)) as thirteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '14',t1.EVALUATIONTIME, 0)) as fourteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '15',t1.EVALUATIONTIME, 0)) as fifteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '16',t1.EVALUATIONTIME, 0)) as sixteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '17',t1.EVALUATIONTIME, 0)) as seventeenEVALUATIONTIME,\n\tsum(if(t1.`day` = '18',t1.EVALUATIONTIME, 0)) as eighteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '19',t1.EVALUATIONTIME, 0)) as nineteenEVALUATIONTIME,\n\tsum(if(t1.`day` = '20',t1.EVALUATIONTIME, 0)) as twentyEVALUATIONTIME,\n\tsum(if(t1.`day` = '21',t1.EVALUATIONTIME, 0)) as twentyoneEVALUATIONTIME,\n\tsum(if(t1.`day` = '22',t1.EVALUATIONTIME, 0)) as twentytwoEVALUATIONTIME,\n\tsum(if(t1.`day` = '23',t1.EVALUATIONTIME, 0)) as twentythreeEVALUATIONTIME,\n\tsum(if(t1.`day` = '24',t1.EVALUATIONTIME, 0)) as twentyfourEVALUATIONTIME,\n\tsum(if(t1.`day` = '25',t1.EVALUATIONTIME, 0)) as twentyfiveEVALUATIONTIME,\n\tsum(if(t1.`day` = '26',t1.EVALUATIONTIME, 0)) as twentysixEVALUATIONTIME,\n\tsum(if(t1.`day` = '27',t1.EVALUATIONTIME, 0)) as twentysevenEVALUATIONTIME,\n\tsum(if(t1.`day` = '28',t1.EVALUATIONTIME, 0)) as twentyeightEVALUATIONTIME,\n\tsum(if(t1.`day` = '29',t1.EVALUATIONTIME, 0)) as twentynineEVALUATIONTIME,\n\tsum(if(t1.`day` = '30',t1.EVALUATIONTIME, 0)) as thirtyEVALUATIONTIME,\n\tsum(if(t1.`day` = '31',t1.EVALUATIONTIME, 0)) as thirtyoneEVALUATIONTIME,\n\tsum(if(t1.`day` = '01',t1.EVALUATIONCOST, 0)) as oneEVALUATIONCOST,\n\tsum(if(t1.`day` = '02',t1.EVALUATIONCOST, 0)) as twoEVALUATIONCOST,\n\tsum(if(t1.`day` = '03',t1.EVALUATIONCOST, 0)) as threeEVALUATIONCOST,\n\tsum(if(t1.`day` = '04',t1.EVALUATIONCOST, 0)) as fourEVALUATIONCOST,\n\tsum(if(t1.`day` = '05',t1.EVALUATIONCOST, 0)) as fiveEVALUATIONCOST,\n\tsum(if(t1.`day` = '06',t1.EVALUATIONCOST, 0)) as sixEVALUATIONCOST,\n\tsum(if(t1.`day` = '07',t1.EVALUATIONCOST, 0)) as sevenEVALUATIONCOST,\n\tsum(if(t1.`day` = '08',t1.EVALUATIONCOST, 0)) as eightEVALUATIONCOST,\n\tsum(if(t1.`day` = '09',t1.EVALUATIONCOST, 0)) as nineEVALUATIONCOST,\n\tsum(if(t1.`day` = '10',t1.EVALUATIONCOST, 0)) as tenEVALUATIONCOST,\n\tsum(if(t1.`day` = '11',t1.EVALUATIONCOST, 0)) as elevenEVALUATIONCOST,\n\tsum(if(t1.`day` = '12',t1.EVALUATIONCOST, 0)) as twelveEVALUATIONCOST,\n\tsum(if(t1.`day` = '13',t1.EVALUATIONCOST, 0)) as thirteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '14',t1.EVALUATIONCOST, 0)) as fourteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '15',t1.EVALUATIONCOST, 0)) as fifteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '16',t1.EVALUATIONCOST, 0)) as sixteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '17',t1.EVALUATIONCOST, 0)) as seventeenEVALUATIONCOST,\n\tsum(if(t1.`day` = '18',t1.EVALUATIONCOST, 0)) as eighteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '19',t1.EVALUATIONCOST, 0)) as nineteenEVALUATIONCOST,\n\tsum(if(t1.`day` = '20',t1.EVALUATIONCOST, 0)) as twentyEVALUATIONCOST,\n\tsum(if(t1.`day` = '21',t1.EVALUATIONCOST, 0)) as twentyoneEVALUATIONCOST,\n\tsum(if(t1.`day` = '22',t1.EVALUATIONCOST, 0)) as twentytwoEVALUATIONCOST,\n\tsum(if(t1.`day` = '23',t1.EVALUATIONCOST, 0)) as twentythreeEVALUATIONCOST,\n\tsum(if(t1.`day` = '24',t1.EVALUATIONCOST, 0)) as twentyfourEVALUATIONCOST,\n\tsum(if(t1.`day` = '25',t1.EVALUATIONCOST, 0)) as twentyfiveEVALUATIONCOST,\n\tsum(if(t1.`day` = '26',t1.EVALUATIONCOST, 0)) as twentysixEVALUATIONCOST,\n\tsum(if(t1.`day` = '27',t1.EVALUATIONCOST, 0)) as twentysevenEVALUATIONCOST,\n\tsum(if(t1.`day` = '28',t1.EVALUATIONCOST, 0)) as twentyeightEVALUATIONCOST,\n\tsum(if(t1.`day` = '29',t1.EVALUATIONCOST, 0)) as twentynineEVALUATIONCOST,\n\tsum(if(t1.`day` = '30',t1.EVALUATIONCOST, 0)) as thirtyEVALUATIONCOST,\n\tsum(if(t1.`day` = '31',t1.EVALUATIONCOST, 0)) as thirtyoneEVALUATIONCOST,\n\tSUM(T1.consumed) AS consumed,SUM(T1.EVALUATIONCOST) AS EVALUATIONCOST, SUM(T1.INPUTCOST) AS INPUTCOST, SUM(T1.EVALUATIONTIME) AS EVALUATIONTIME,\n(select ROUND(sum(t.consumed),2) from zt_taskestimate t left join zt_task tt on tt.id = t.task where tt.project <> t1.project and t.account = t1.account and tt.deleted = '0' and DATE_FORMAT(t.date,'%Y%m') = concat(t1.`YEAR`, t1.`MONTH`)) as otherconsumed,\n\t(select ROUND(sum(t.EVALUATIONTIME),2) from zt_taskestimate t left join zt_task tt on tt.id = t.task where tt.project <> t1.project and t.account = t1.account and tt.deleted = '0' and DATE_FORMAT(t.date,'%Y%m') = concat(t1.`YEAR`, t1.`MONTH`)) as otherEVALUATIONTIME\nFROM\n\t(\nSELECT YEAR\n\t( t1.date ) AS `year`,\n\tRight(100 + MONTH ( t1.date ), 2) AS `month`,\n\tRight(100 + day ( t1.date ), 2) AS `day`,\n\tt11.project,\n\tt21.`name` AS projectname,\n\tt1.account,\n\tt1.date,\n\tROUND( sum( t1.consumed ), 2 ) AS consumed,\n\tROUND( sum( t1.EVALUATIONCOST ), 2 ) AS EVALUATIONCOST,\n\tROUND( sum( t1.INPUTCOST ), 2 ) AS INPUTCOST,\n\tROUND( sum( t1.EVALUATIONTIME ), 2 ) AS EVALUATIONTIME\nFROM\n\t`zt_taskestimate` t1\n\tLEFT JOIN `zt_task` t11 ON t1.`TASK` = t11.`ID`\n\tLEFT JOIN `zt_project` t21 ON t11.`PROJECT` = t21.`ID` \nWHERE\n\tt11.project IS NOT NULL \n\tAND t11.project <> '0' \n\tAND t1.date <> '0000-00-00'  and t11.deleted = '0'\nGROUP BY\n\tt11.project,\n\tt21.`name`,\n\tt1.account,\n\tt1.date \n\t) t1 GROUP BY t1.account, t1.project,t1.projectname,t1.`YEAR`,t1.`MONTH`) T1",
  "id" : "PSMODULES/ibizpro/PSDATAENTITIES/ProjectTaskestimate/PSDEDATAQUERIES/Default/PSDEDQCODES/MYSQL5.json"
}