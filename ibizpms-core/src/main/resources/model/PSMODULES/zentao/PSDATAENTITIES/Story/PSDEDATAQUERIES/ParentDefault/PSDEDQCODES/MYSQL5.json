{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "getPSDEDataQueryCodeConds" : [ {
    "condType" : "CUSTOM",
    "customCond" : "t1.DELETED = '0'",
    "name" : "查询条件"
  }, {
    "condType" : "CUSTOM",
    "customCond" : "( ( t1.`PARENT` = -1  OR  t1.`PARENT` = 0 ) )",
    "name" : "查询条件"
  } ],
  "getPSDEDataQueryCodeExps" : [ {
    "expression" : "t1.`ASSIGNEDDATE`",
    "name" : "ASSIGNEDDATE"
  }, {
    "expression" : "t1.`ASSIGNEDTO`",
    "name" : "ASSIGNEDTO"
  }, {
    "expression" : "t1.`BRANCH`",
    "name" : "BRANCH"
  }, {
    "expression" : "t41.`NAME`",
    "name" : "BRANCHNAME"
  }, {
    "expression" : "t1.`CHILDSTORIES`",
    "name" : "CHILDSTORIES"
  }, {
    "expression" : "t1.`CLOSEDBY`",
    "name" : "CLOSEDBY"
  }, {
    "expression" : "t1.`CLOSEDDATE`",
    "name" : "CLOSEDDATE"
  }, {
    "expression" : "t1.`CLOSEDREASON`",
    "name" : "CLOSEDREASON"
  }, {
    "expression" : "t1.`COLOR`",
    "name" : "COLOR"
  }, {
    "expression" : "t1.`DELETED`",
    "name" : "DELETED"
  }, {
    "expression" : "t1.`DUPLICATESTORY`",
    "name" : "DUPLICATESTORY"
  }, {
    "expression" : "t1.`ESTIMATE`",
    "name" : "ESTIMATE"
  }, {
    "expression" : "t1.`FROMBUG`",
    "name" : "FROMBUG"
  }, {
    "expression" : "t1.`ID`",
    "name" : "ID"
  }, {
    "expression" : "0",
    "name" : "ISFAVORITES"
  }, {
    "expression" : "(CASE WHEN EXISTS (SELECT 1 FROM ZT_STORY WHERE  PARENT = t1.`ID` AND DELETED = '0') THEN FALSE ELSE TRUE  END )",
    "name" : "ISLEAF"
  }, {
    "expression" : "t1.`KEYWORDS`",
    "name" : "KEYWORDS"
  }, {
    "expression" : "t1.`LASTEDITEDBY`",
    "name" : "LASTEDITEDBY"
  }, {
    "expression" : "t1.`LASTEDITEDDATE`",
    "name" : "LASTEDITEDDATE"
  }, {
    "expression" : "t1.`LINKSTORIES`",
    "name" : "LINKSTORIES"
  }, {
    "expression" : "t1.`MAILTO`",
    "name" : "MAILTO"
  }, {
    "expression" : "t1.`MODULE`",
    "name" : "MODULE"
  }, {
    "expression" : "t11.`NAME`",
    "name" : "MODULENAME"
  }, {
    "expression" : "(SELECT GROUP_CONCAT( tt.NAME SEPARATOR '>' ) FROM zt_module tt  WHERE FIND_IN_SET( tt.id, t11.path ) AND tt.type = 'story' GROUP BY\ttt.root )",
    "name" : "MODULENAME1"
  }, {
    "expression" : "t1.`OPENEDBY`",
    "name" : "OPENEDBY"
  }, {
    "expression" : "t1.`OPENEDDATE`",
    "name" : "OPENEDDATE"
  }, {
    "expression" : "t1.`PARENT`",
    "name" : "PARENT"
  }, {
    "expression" : "t21.`TITLE`",
    "name" : "PARENTNAME"
  }, {
    "expression" : "t11.`PATH`",
    "name" : "PATH"
  }, {
    "expression" : "t1.`PLAN`",
    "name" : "PLAN"
  }, {
    "expression" : "t1.`PRI`",
    "name" : "PRI"
  }, {
    "expression" : "t31.`NAME`",
    "name" : "PRODOCTNAME"
  }, {
    "expression" : "t1.`PRODUCT`",
    "name" : "PRODUCT"
  }, {
    "expression" : "t1.`REVIEWEDBY`",
    "name" : "REVIEWEDBY"
  }, {
    "expression" : "t1.`REVIEWEDDATE`",
    "name" : "REVIEWEDDATE"
  }, {
    "expression" : "t1.`SOURCE`",
    "name" : "SOURCE"
  }, {
    "expression" : "t1.`SOURCENOTE`",
    "name" : "SOURCENOTE"
  }, {
    "expression" : "t1.`STAGE`",
    "name" : "STAGE"
  }, {
    "expression" : "t1.`STAGEDBY`",
    "name" : "STAGEDBY"
  }, {
    "expression" : "t1.`STATUS`",
    "name" : "STATUS"
  }, {
    "expression" : "t1.`SUBSTATUS`",
    "name" : "SUBSTATUS"
  }, {
    "expression" : "t1.`TITLE`",
    "name" : "TITLE"
  }, {
    "expression" : "t1.`TOBUG`",
    "name" : "TOBUG"
  }, {
    "expression" : "t1.`TYPE`",
    "name" : "TYPE"
  }, {
    "expression" : "t1.`VERSION`",
    "name" : "VERSION"
  }, {
    "expression" : "t1.`VERSION`",
    "name" : "VERSIONC"
  } ],
  "queryCode" : "SELECT\n\tt1.`ASSIGNEDTO`,\t\n\tt1.`COLOR`,\t\n\tt1.`ESTIMATE`,\t\n\tt1.`ID`,\nt1.`product`,\n\t(\nSELECT\n\t( CASE WHEN COUNT( t.IBZ_FAVORITESID ) > 0 THEN 1 ELSE 0 END ) AS ISFAVORITES \nFROM\n\tT_IBZ_FAVORITES t \nWHERE\n\tt.TYPE = 'story' \n\tAND t.ACCOUNT = #{srf.sessioncontext.srfloginname} \n\tAND t.OBJECTID = t1.id \n\t) AS `ISFAVORITES`,\n\tt1.`MODULE`,\n\tt11.`NAME` AS `MODULENAME`,\n\tt1.`OPENEDBY`,\n\tt1.`PARENT`,\n\t( CASE WHEN t1.`PLAN` = '0' THEN '' ELSE t1.plan END ) AS `PLAN`,\n        (select GROUP_CONCAT(t.title)  from zt_productplan t where t.deleted = '0' and t.id = t1.plan) as planname,\n\tt1.`PRI`,\n\tt1.`STAGE`,\t\n\tt1.`STATUS`,\t\n\tt1.`TITLE`,\t\n\t'' AS isChild,\n\tt1.STORYSN\nFROM\n\t`zt_story` t1\n\tLEFT JOIN zt_module t11 ON t1.MODULE = t11.ID\n\tLEFT JOIN zt_story t21 ON t1.PARENT = t21.ID\n\tLEFT JOIN zt_product t31 ON t1.PRODUCT = t31.ID\n\tLEFT JOIN zt_branch t41 ON t1.BRANCH = t41.ID",
  "id" : "PSMODULES/zentao/PSDATAENTITIES/Story/PSDEDATAQUERIES/ParentDefault/PSDEDQCODES/MYSQL5.json"
}