{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "getPSDEDataQueryCodeConds" : [ {
    "condType" : "CUSTOM",
    "customCond" : "t1.DELETED = '0'",
    "name" : "查询条件"
  }, {
    "condType" : "CUSTOM",
    "customCond" : "( t1.`ASSIGNEDTO` =  ${srfsessioncontext('srfloginname','{\"defname\":\"ASSIGNEDTO\",\"dename\":\"ZT_STORY\"}')} )",
    "name" : "查询条件"
  }, {
    "condType" : "CUSTOM",
    "customCond" : "t1.assignedDate <> '0000-00-00 00:00:00' and t1.assignedDate is not null",
    "name" : "查询条件"
  } ],
  "queryCode" : "SELECT\nt1.`ASSIGNEDDATE`,\nt1.`ASSIGNEDTO`,\nt1.`BRANCH`,\nt41.`NAME` AS `BRANCHNAME`,\nt1.`CHILDSTORIES`,\nt1.`CLOSEDBY`,\nt1.`CLOSEDDATE`,\nt1.`CLOSEDREASON`,\nt1.`COLOR`,\nt1.`DELETED`,\nt1.`DUPLICATESTORY`,\nt1.`ESTIMATE`,\nt1.`FROMBUG`,\nt1.`ID`,\n(select (case when COUNT(t.IBZ_FAVORITESID) > 0 then 1 else 0 end ) as ISFAVORITES from T_IBZ_FAVORITES t where t.TYPE = 'story' and t.ACCOUNT = #{srf.sessioncontext.srfloginname} \nand t.OBJECTID = t1.id) AS `ISFAVORITES`,\n( CASE WHEN t1.parent > 0 THEN TRUE ELSE FALSE END ) AS `ISLEAF`,\nt1.`KEYWORDS`,\nt1.`LASTEDITEDBY`,\nt1.`LASTEDITEDDATE`,\nt1.`LINKSTORIES`,\nt1.`MAILTO`,\nt1.`MODULE`,\nt11.`NAME` AS `MODULENAME`,\n(SELECT GROUP_CONCAT( tt.NAME SEPARATOR '>' ) FROM zt_module tt  WHERE FIND_IN_SET( tt.id, t11.path ) and tt.deleted = '0' AND tt.type = 'story' GROUP BY\ttt.root ) AS `MODULENAME1`,\nt1.`OPENEDBY`,\nt1.`OPENEDDATE`,\nt1.`PARENT`,\nt21.`TITLE` AS `PARENTNAME`,\nt11.`PATH`,\nt1.`PLAN`,\nt1.`PRI`,\nt31.`NAME` AS `PRODOCTNAME`,\nt1.`PRODUCT`,\nt1.`REVIEWEDBY`,\nt1.`REVIEWEDDATE`,\nt1.`SOURCE`,\nt1.`SOURCENOTE`,\nt1.`STAGE`,\nt1.`STAGEDBY`,\nt1.`STATUS`,\nt1.`SUBSTATUS`,\nt1.`TITLE`,\nt1.`TOBUG`,\nt1.`TYPE`,\nt1.`VERSION`,\nt1.`VERSION` AS `VERSIONC`,\n(case when t1.parent in (-1) and t1.stage = 'wait' then '1' when t1.parent in (0) and t1.stage = 'wait' then '2'  else '0' end) AS isChild,\nt1.STORYSN\nFROM `zt_story` t1 \nLEFT JOIN zt_module t11 ON t1.MODULE = t11.ID\nLEFT JOIN zt_story t21 ON t1.PARENT = t21.ID\nLEFT JOIN zt_product t31 ON t1.PRODUCT = t31.ID\nLEFT JOIN zt_branch t41 ON t1.BRANCH = t41.ID",
  "id" : "PSMODULES/zentao/PSDATAENTITIES/Story/PSDEDATAQUERIES/AssignedToMyStoryCalendar/PSDEDQCODES/MYSQL5.json"
}