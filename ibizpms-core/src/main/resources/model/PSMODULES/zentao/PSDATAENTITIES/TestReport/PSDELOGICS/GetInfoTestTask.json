{
  "codeName" : "GetInfoTestTask",
  "defaultParamName" : "Default",
  "dynaModelFilePath" : "PSMODULES/zentao/PSDATAENTITIES/TestReport/PSDELOGICS/GetInfoTestTask.json",
  "logicName" : "根据测试单获取相应信息",
  "name" : "根据测试单获取相应信息",
  "getPSDELogicNodes" : [ {
    "codeName" : "Rawsqlcall13",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "产生的bug",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall14"
      },
      "name" : "连接6366",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall13"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as bugcnt\nFROM `zt_bug` t1 \nwhere t1.OPENEDBUILD = (select build from  zt_testtask  where id = ?)  and t1.openedDate > (select `begin` from  zt_testtask   where id = ?\n) and t1.openedDate < (select CONCAT( DATE_FORMAT( tt.`end`, '%Y-%m-%d'),' 23:59:59') from  zt_testtask tt  where tt.id = ?)",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall11",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "有效bug数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall12"
      },
      "name" : "连接8948",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall11"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as effective\nFROM `zt_bug` t1 \nwhere  t1.OPENEDBUILD = (select t.build from zt_testtask t  where t.id = ?)  and t1.openedDate > (select tt.`begin` from  zt_testtask tt  where tt.id = ?\n) and t1.openedDate < (select CONCAT( DATE_FORMAT( tt.`end`, '%Y-%m-%d'),' 23:59:59') from  zt_testtask tt  where tt.id = ?\n) and t1.`status` in ('resolved','closed') and t1.resolution in ('fixed','postponed')",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall3",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "获取用例数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall4"
      },
      "name" : "连接324",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall3"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as casecnt\nFROM `zt_case` t1 \nleft join zt_testrun t11 on t1.id = t11.`case`\nLEFT JOIN zt_testtask t21 on t11.task = t21.id\nWHERE  t1.`DELETED` = '0' and t21.id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall5",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "失败的用例数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall6"
      },
      "name" : "连接6927",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall5"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select COUNT(1) as failcase from (SELECT\nDISTINCT t1.id\nFROM `zt_case` t1 \nleft join zt_testrun t11 on t1.id = t11.`case`\nleft join zt_testresult t21 on t21.run = t11.id\nLEFT JOIN zt_testtask t31 on t31.id = t11.task\nWHERE  t1.`DELETED` = '0'  and t21.date > (SELECT `BEGIN` from zt_testtask where id =  ? ) and t21.date < (SELECT CONCAT(DATE_FORMAT(`end`,'%Y-%m-%d'),' 23:59:59') from zt_testtask where id = ? ) and t31.id = ?  and t21.caseResult = 'fail') t",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall15",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "获取参与人员",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall16"
      },
      "name" : "连接6052",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall15"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select case when t.members is null then '' else t.members  end as members from (SELECT  GROUP_CONCAT(DISTINCT t1.lastRunner) as members from zt_testrun t1  LEFT JOIN zt_testtask t21 on t21.id = t1.task where t21.id = ?) t\n",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Begin",
    "logicNodeType" : "BEGIN",
    "name" : "开始",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall1"
      },
      "name" : "连接4268",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Begin"
      },
      "defaultLink" : false
    } ],
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall12",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "解决的bug",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall13"
      },
      "name" : "连接4883",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall12"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as resolvedcnt\nFROM `zt_bug` t1 \nwhere  t1.OPENEDBUILD = (select t.build from zt_testtask t where t.id = ?)   and t1.openedDate > (select tt.`begin` from  zt_testtask tt  where tt.id = ?\n) and t1.openedDate < (select CONCAT( DATE_FORMAT( tt.`end`, '%Y-%m-%d'),' 23:59:59') from  zt_testtask tt  where tt.id = ?\n)  and t1.`status` in ('resolved','closed')",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall4",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "执行的用例数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall5"
      },
      "name" : "连接8909",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall4"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select COUNT(1) as rencase from (SELECT\nDISTINCT t1.id\nFROM `zt_case` t1 \nleft join zt_testrun t11 on t1.id = t11.`case`\nINNER join zt_testresult t21 on t21.run = t11.id\nLEFT JOIN zt_testtask t31 on t31.id = t11.task\nWHERE  t1.`DELETED` = '0' and t21.date > (SELECT `BEGIN` from zt_testtask where id = ?) and t21.date < (SELECT CONCAT(DATE_FORMAT(`end`,'%Y-%m-%d'),' 23:59:59') from zt_testtask where id = ?) and t31.id =  ? ) t",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall9",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "用例产生的bug",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall10"
      },
      "name" : "连接7101",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall9"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as casebugcnt\nFROM `zt_bug` t1 \nwhere  t1.OPENEDBUILD = (select tt.build from zt_testtask tt where tt.id = ?)   and t1.openedDate > (select tt.`begin` from zt_testtask tt where tt.id = ? and t1.openedDate < (select CONCAT( DATE_FORMAT( tt.`end`, '%Y-%m-%d'),' 23:59:59') from  zt_testtask tt  where tt.id = ?\n)\n)  and t1.`case` > 0",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall14",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "设置概况",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall15"
      },
      "name" : "连接6114",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall14"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[storycnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storycnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[storyestimate]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storyestimate",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[storyestimate]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storyestimate",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[casecnts]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "casecnts",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[storycnts]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storycnts",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[storycnts]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storycnts",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[storycnts]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "storycnts",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[casecnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "casecnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[rencase]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "rencase",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[testresultcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "testresultcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[failcase]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "failcase",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[bugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "bugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[ylbugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "ylbugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[casebugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "casebugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[effective]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "effective",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[resolvedcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "resolvedcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[resolvedcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "resolvedcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[resolvedcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "resolvedcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[casebugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "casebugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[bugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "bugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[bugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "bugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[bugcnt]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "bugcnt",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select CONCAT_WS('','本页共 ',?,' 个需求，预计 ',case when ? is null then 0 else ? end,' 个工时，用例覆盖率 ',CONCAT(ROUND(?/(case when ?= 0 or ? is null then 1 else ? end) * 100, 0)),'%。<br>','共测试了1个版本。共有',?,'个用例，共执行',?,'个用例，产生了',?,'个结果，失败的用例有',?,'个。<br>','共发现',?,'个Bug<a data-toggle=\"tooltip\" class=\"text-warning\" title=\"影响版本在测试轮次内，并且创建时间在测试时间范围内产生的Bug数。\" style=\"vertical-align: middle;padding: 2px;\"><i class=\"fa fa-question-circle\" style=\" color: #ff9800;\"></i></a>，遗留',?,'个Bug<a data-toggle=\"tooltip\" class=\"text-warning\" title=\"Bug状态是激活，或Bug的解决时间在测试结束时间之后。\" style=\"vertical-align: middle;padding: 2px;\"><i class=\"fa fa-question-circle\" style=\" color: #ff9800;\"></i></a>。 用例执行产生',?,'个Bug<a data-toggle=\"tooltip\" class=\"text-warning\" title=\"测试时间范围内，用例执行失败后创建的Bug。\" style=\"vertical-align: middle;padding: 2px;\"><i class=\"fa fa-question-circle\" style=\" color: #ff9800;\"></i></a>。 有效Bug率（方案为已解决或延期 / 状态为已解决或已关闭）：',CONCAT(ROUND(?/(case when ? = 0 or ? is null then 1 else ? end) * 100, 2), '%'),'，用例发现Bug率（用例创建的Bug / 发现Bug数）：',CONCAT(ROUND(?/(case when ? = 0 or ? is null then 1 else ? end)* 100, 2) , '%')) as OVERVIEWS from dual",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall10",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "执行结果",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall11"
      },
      "name" : "连接7588",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall10"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[BEGIN]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "BEGIN",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[END]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "END",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select COUNT(1) testresultcnt from zt_testresult t1 \nINNER JOIN zt_case t31 on t31.id = t1.`case`\ninner join zt_testrun t11 on t1.run = t11.id and t1.`case` = t11.`case`\nINNER JOIN zt_testtask t41 on t41.id = t11.task\nwhere t41.id = ?  and t31.deleted = '0' and t1.date >  ? and t1.date <  ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall7",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "需求覆盖用例数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall8"
      },
      "name" : "连接6981",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall7"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\ncount(1) as casecnts\nFROM `zt_story` t1 \nLEFT JOIN zt_build t21 on FIND_IN_SET(t1.id,t21.stories)\nLEFT JOIN zt_testtask t31 on t31.build = t21.id\nWHERE t1.`DELETED` = '0'  and (t1.`status` <> 'closed' or (t1.`status` = 'closed' and t1.closedReason in ('done','postponed'))) and EXISTS(select 1 from zt_case t where t.deleted = '0' and t1.id = t.story) and t31.id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall2",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "获取需求数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall3"
      },
      "name" : "连接9595",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall2"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as storycnt, sum(t1.ESTIMATE) as storyestimate,GROUP_CONCAT(DISTINCT t1.id ORDER BY t1.id asc) as stories\nFROM `zt_story` t1 \nLEFT JOIN zt_build t11 on FIND_IN_SET(t1.id,t11.stories)\nLEFT JOIN zt_testtask t21 on t21.build = t11.id\nWHERE t1.`DELETED` = '0' and t21.id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall8",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "遗留的Bug",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall9"
      },
      "name" : "连接6924",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall8"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    }, {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as ylbugcnt\nFROM `zt_bug` t1 \nwhere  t1.OPENEDBUILD = (select t.build from zt_testtask t  where t.id = ?)   and t1.openedDate > (select tt.`begin` from  zt_testtask tt  where tt.id = ?\n) and t1.openedDate < (select CONCAT( DATE_FORMAT( tt.`end`, '%Y-%m-%d'),' 23:59:59') from  zt_testtask tt  where tt.id = ?\n) and (t1.`status` = 'active' or t1.resolvedDate > (select tt.`end` from zt_testtask tt where tt.id = ?))",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall1",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "获取数据",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall2"
      },
      "name" : "连接9257",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall1"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select CONCAT_WS(' ',DATE_FORMAT(now(),'%Y-%m-%d'),concat('TESTTASK#',t.id),t.`name`,'测试报告') as TITLE,t.`begin`,t.`end`,t.project,t.build as builds,(select GROUP_CONCAT(DISTINCT tt.`case` order by tt.`case` asc Separator ',') from zt_testrun tt where tt.task = t.id GROUP BY tt.task) as cases,t.id as objectID,'TESTTASK' as objectType,t.`OWNER` as `OWNER` from zt_testtask t where t.deleted = '0' and t.id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall6",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "有效需求数",
    "getPSDELogicLinks" : [ {
      "getDstPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall7"
      },
      "name" : "连接9430",
      "getSrcPSDELogicNode" : {
        "modelref" : true,
        "id" : "Rawsqlcall6"
      },
      "defaultLink" : false
    } ],
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[TASKS]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "TASKS",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "SELECT\nCOUNT(1) as storycnts\nFROM `zt_story` t1 \nLEFT JOIN zt_build t21 on FIND_IN_SET(t1.id,t21.stories)\nLEFT JOIN zt_testtask t31 on t31.build = t21.id\nWHERE t1.`DELETED` = '0' and (t1.`status` <> 'closed' or (t1.`status` = 'closed' and t1.closedReason in ('done','postponed'))) and t31.id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  }, {
    "codeName" : "Rawsqlcall16",
    "getDstPSDELogicParam" : {
      "modelref" : true,
      "id" : "Default"
    },
    "logicNodeType" : "RAWSQLCALL",
    "name" : "获取项目名",
    "getPSDELogicNodeParams" : [ {
      "name" : "Default[PROJECT]",
      "paramAction" : "SQLPARAM",
      "srcFieldName" : "PROJECT",
      "getSrcPSDELogicParam" : {
        "modelref" : true,
        "id" : "Default"
      },
      "srcValueType" : "SRCDLPARAM"
    } ],
    "sql" : "select name  as projectname from zt_project where id = ?",
    "fillDstLogicParam" : true,
    "parallelOutput" : true
  } ],
  "getPSDELogicParams" : [ {
    "codeName" : "Default",
    "name" : "传入变量",
    "getParamPSDataEntity" : {
      "modelref" : true,
      "path" : "PSMODULES/zentao/PSDATAENTITIES/TestReport.json"
    },
    "default" : true
  }, {
    "codeName" : "testtask",
    "name" : "测试版本",
    "getParamPSDataEntity" : {
      "modelref" : true,
      "path" : "PSMODULES/zentao/PSDATAENTITIES/TestTask.json"
    }
  } ],
  "getStartPSDELogicNode" : {
    "modelref" : true,
    "id" : "Begin"
  },
  "enableBackend" : true,
  "enableFront" : false
}