{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "SELECT\n\tt1.lastRunResult1,\n\tt1.RESULTCNT AS RESULTCNT,\n\tt1.PRODUCT,\n\tCONCAT( ROUND( t1.RESULTCNT / t1.sss * 100, 2 ), '', '%' ) AS TASK \nFROM\n\t(\n\tSELECT\n\t\tt1.PRODUCT,\n\t\tt1.lastRunResult1,\n\t\tt1.RESULTCNT,\n\t\t(\n\t\tSELECT\n\t\t\tcount( 1 ) \n\t\tFROM\n\t\t\t`zt_case` t1\n\t\t\tLEFT JOIN zt_testrun t61 ON t61.`case` = t1.ID\n\t\t\tLEFT JOIN zt_testresult t71 ON t61.ID = t71.run \n\t\t\tAND t71.`case` = t1.ID\n\t\t\tLEFT JOIN zt_user t81 ON t71.lastRunner = t81.account \n\t\tWHERE\n\t\t\tt1.DELETED = '0' \n\t\t\tAND (\n\t\t\t\tFIND_IN_SET(\n\t\t\t\t\tt1.ID,\n\t\t\t\t\t(\n\t\t\t\t\tSELECT\n\t\t\t\t\t\ttt.cases \n\t\t\t\t\tFROM\n\t\t\t\t\t\tzt_testreport tt \n\t\t\t\tWHERE\n\ttt.ID = #{srf.webcontext.srfparentkey} ) ) ) \n\t\t\t\t\t\n\t\t\t\t\tAND t61.task = (\n\t\t\t\t\t\tSELECT\n\t\t\t\t\t\t\ttt.tasks \n\t\t\t\t\t\tFROM\n\t\t\t\t\t\t\tzt_testreport tt \n\t\t\t\t\t\tWHERE\n\t\t\t\t\t\ttt.ID = #{srf.webcontext.srfparentkey} ) ) as sss from (SELECT t1.PRODUCT, t1.lastRunResult1, count( t1.lastRunResult1 ) AS RESULTCNT FROM ( SELECT t81.realname AS `lastRunResult1`, t1.`PRODUCT` FROM `zt_case` t1 LEFT JOIN zt_testrun t61 ON t61.`case` = t1.ID LEFT JOIN zt_testresult t71 ON t61.ID = t71.run\n\tAND t71.`case` = t1.ID LEFT JOIN zt_user t81 ON t71.lastRunner = t81.account WHERE t1.DELETED = '0' \n\tAND ( FIND_IN_SET( t1.ID, ( SELECT tt.cases FROM zt_testreport tt WHERE tt.ID = #{srf.webcontext.srfparentkey} ) ) ) \n\tAND t61.task = ( SELECT tt.tasks FROM zt_testreport tt WHERE tt.ID = #{srf.webcontext.srfparentkey} ) ) t1 GROUP BY t1.LASTRUNRESULT1) t1) t1",
  "id" : "PSMODULES/zentao/PSDATAENTITIES/Case/PSDEDATAQUERIES/RunERRePortCaseEntry/PSDEDQCODES/MYSQL5.json"
}