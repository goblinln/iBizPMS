{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "select t1.lastRunResult1,t1.RESULTCNT as RESULTCNT, t1.PRODUCT,CONCAT(ROUND(t1.RESULTCNT / t1.sss * 100, 2),'','%') as TASK from( select t1.PRODUCT,t1.lastRunResult1,t1.resultcnt,(SELECT\n\tCOUNT( 1 ) \nFROM\n\tzt_case ttt \nLEFT JOIN zt_testrun t51 on t51.`case` = ttt.id\nLEFT JOIN zt_testreport t61 on t51.task = t61.tasks\nWHERE\n\tt61.ID = ${srfwebcontext('srfparentkey','{\"defname\":\"PATH\",\"dename\":\"ZT_CASE\"}')}\n\tAND ttt.DELETED = '0' ) as sss from ( select t1.PRODUCT,t1.lastRunResult1,COUNT(t1.lastRunResult1) as RESULTCNT from ( SELECT \n\tCONCAT(\n\t'/',\n case when\t(\nSELECT\n\tGROUP_CONCAT( tt.NAME SEPARATOR '/' ) \nFROM\n\tzt_module tt \nWHERE\n\tFIND_IN_SET( tt.id, t11.path )  and tt.deleted = '0' \n\tAND tt.type = 'story' \nGROUP BY\n\ttt.root \n\tLIMIT 0,1\n\t) is not null then (\nSELECT\n\tGROUP_CONCAT( tt.NAME SEPARATOR '/' ) \nFROM\n\tzt_module tt \nWHERE\n\tFIND_IN_SET( tt.id, t11.path ) \n\tAND tt.type = 'story' \nGROUP BY\n\ttt.root \n\tLIMIT 0,1\n\t) when t11.`name` is null then '' else t11.`name` end\n\t) AS `lastRunResult1`,\nt1.`PRODUCT`\nFROM `zt_case` t1 \nLEFT JOIN zt_module t11 ON t1.MODULE = t11.id \nLEFT JOIN zt_testrun t51 on t51.`case` = t1.id\nLEFT JOIN zt_testreport t61 on t51.task = t61.tasks\nwhere\nt61.id = ${srfwebcontext('srfparentkey','{\"defname\":\"PATH\",\"dename\":\"ZT_CASE\"}')} \n\tAND t1.DELETED = '0' ) t1 GROUP BY t1.lastRunResult1 ) t1) t1",
  "id" : "PSMODULES/zentao/PSDATAENTITIES/Case/PSDEDATAQUERIES/ModuleRePortCaseEntry/PSDEDQCODES/MYSQL5.json"
}