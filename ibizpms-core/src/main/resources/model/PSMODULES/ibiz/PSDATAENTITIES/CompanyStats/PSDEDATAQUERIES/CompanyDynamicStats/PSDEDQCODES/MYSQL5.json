{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "select \nDATE_FORMAT(t1.date, '%Y-%m-%d') as `ZTDATE`, \nt1.date, \nsum(case when t1.objecttype = 'user' and t1.action = 'login' then 1 else 0 end) as `LoginCNT`,\nIFNULL((select sum(t2.consumed) from zt_taskestimate t2 where t2.date = DATE_FORMAT(t1.date, '%Y-%m-%d')), 0) as `LogHours`, \nsum(case when t1.objecttype = 'story' and t1.action = 'opened' then 1 else 0 end) as `OpenedStoryCNT`, \nsum(case when t1.objecttype = 'story' and t1.action = 'closed' then 1 else 0 end) as `ClosedStoryCNT`, \nsum(case when t1.objecttype = 'task' and t1.action = 'opened' then 1 else 0 end) as `OpenedTaskCNT`, \nsum(case when t1.objecttype = 'task' and t1.action = 'finished' then 1 else 0 end) as `FinishedTaskCNT`, \nsum(case when t1.objecttype = 'bug' and t1.action = 'opened' then 1 else 0 end) as `OpenedBugCNT`, \nsum(case when t1.objecttype = 'bug' and t1.action = 'resolved' then 1 else 0 end) as `ResolvedBugCNT`, \ncount(1) as `DynamicCNT` \nfrom zt_action t1 \nwhere (DATE_FORMAT(t1.date, '%Y-%m-%d') >= #{srf.datacontext.begin} or #{srf.datacontext.begin} is null) and (DATE_FORMAT(t1.date, '%Y-%m-%d') <= #{srf.datacontext.end} or #{srf.datacontext.end} is null)\ngroup by DATE_FORMAT(t1.date, '%Y-%m-%d')",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/CompanyStats/PSDEDATAQUERIES/CompanyDynamicStats/PSDEDQCODES/MYSQL5.json"
}