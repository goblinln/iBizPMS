{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "select t1.id AS Product, \n\tt1.`name` AS ProductName, \n\tifnull(t2.ActiveBug, 0) AS BugActive, \n\tifnull(t2.ResolvedBug, 0) AS BugResolved, \n\tifnull(t2.ClosedBug, 0) AS BugClosed, \n\tifnull(t2.BugEfficient, '100.00%') AS BugEfficient, \n\tifnull(t2.BUGTOTAL, 0) AS BUGTOTAL \n\tfrom zt_product t1 left join (SELECT\n\tt1.product, \n\tt1.project, \n\tsum( IF ( t1.`status` = 'active', t1.v1, 0 ) ) AS ActiveBug,\n\tsum( IF ( t1.`status` = 'resolved', t1.v1, 0 ) ) AS ResolvedBug,\n\tSUM( IF ( t1.`status` = 'closed', t1.v1, 0 ) ) AS ClosedBug,\n\tCONCAT( ROUND( case when (SUM( IF ( t1.`status` = 'closed', t1.v1, 0 ) ) + SUM( IF ( t1.`status` = 'resolved', t1.v1, 0 ) )) = 0 then 0 else (SUM( IF ( t1.`status` = 'closed', t1.v1, 0 ) ) + SUM( IF ( t1.`status` = 'resolved', t1.v1, 0 ) ))/ (sum( IF ( t1.`status` = 'active', t1.v1, 0 ) ) + SUM( IF ( t1.`status` = 'resolved', t1.v1, 0 ) ) + SUM( IF ( t1.`status` = 'closed', t1.v1, 0 ) )) * 100 end,2), '%') as BugEfficient,\n\tSUM( t1.v1 ) AS BUGTOTAL \nFROM\n\t(\nSELECT\n\tt1.`OPENEDBY`,\n\tt1.`OPENEDDATE`,\n\tt1.`PRODUCT`,\n\tt1.`PROJECT`,\n\tt1.`STATUS`,\n\t1 AS `V1` \nFROM\n\t`zt_bug` t1\nWHERE\n\tt1.deleted = '0'\n\t) t1 \nWHERE\n\t( t1.openedDate >= #{srf.datacontext.openeddatelt}  OR #{srf.datacontext.openeddatelt} IS NULL ) \n\tAND ( t1.openedDate <= #{srf.datacontext.openeddategt} OR #{srf.datacontext.openeddategt} is null ) \nGROUP BY\n\tt1.product) t2 on t1.id = t2.product\n\twhere t1.deleted = '0'\n\t\tAND ( t2.PRODUCT = #{srf.datacontext.producteq} OR #{srf.datacontext.producteq}  IS NULL ) \n\tAND ( t2.PROJECT = #{srf.datacontext.projecteq}  OR #{srf.datacontext.projecteq}  IS NULL )",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/BugStats/PSDEDATAQUERIES/ProductBugStatusSum/PSDEDQCODES/MYSQL5.json"
}