{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "getPSDEDataQueryCodeExps" : [ {
    "expression" : "0",
    "name" : "ACTIVESTORYCNT"
  }, {
    "expression" : "0",
    "name" : "CHANGEDSTORYCNT"
  }, {
    "expression" : "0",
    "name" : "CLOSEDSTORYCNT"
  }, {
    "expression" : "t1.`ID`",
    "name" : "ID"
  }, {
    "expression" : "t1.`NAME`",
    "name" : "NAME"
  }, {
    "expression" : "0",
    "name" : "PLAN"
  }, {
    "expression" : "t1.`PO`",
    "name" : "PO"
  }, {
    "expression" : "0",
    "name" : "STORYCNT"
  }, {
    "expression" : "0",
    "name" : "WAITSTORYCNT"
  } ],
  "queryCode" : "SELECT t1.productid as id,t1.productname as `name`,t1.createbugcnt as bugcnt,t1.createbugcnt as storycnt,t2.productallbug, CONCAT(ROUND(t1.createbugcnt/(case when t2.productallbug = 0 or t2.productallbug is null then 1 else t2.productallbug end)*100,1),'%') as zhanbi, t1.openedBy from (\nSELECT t1.openedBy,t1.productid,t1.productname,COUNT(1) as createbugcnt from (\nSELECT t1.id ,t1.openedBy,t2.id as productid,t1.product,t2.`name` as productname from zt_bug t1\nLEFT JOIN zt_product t2 on t2.id = t1.product where YEAR(t2.createdDate) = #{srf.webcontext.curyear}\n) t1 GROUP BY t1.openedBy,t1.productid  )t1\nLEFT JOIN ( select t1.productid,t1.productname,count(1) as productallbug from (\nSELECT t1.id ,t1.openedBy,t2.id as productid,t1.product,t2.`name` as productname from zt_bug t1\nLEFT JOIN zt_product t2 on t2.id = t1.product\n) t1 GROUP BY t1.productid ) t2 on t2.productid = t1.productid HAVING t1.openedBy = \n #{srf.sessioncontext.srfloginname}",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/ProductSum/PSDEDATAQUERIES/ProductBugcnt_QA/PSDEDQCODES/MYSQL5.json"
}