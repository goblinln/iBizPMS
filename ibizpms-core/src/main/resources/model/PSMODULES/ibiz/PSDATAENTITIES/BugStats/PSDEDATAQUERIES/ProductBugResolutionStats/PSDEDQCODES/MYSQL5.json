{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "select t1.id AS Product, \n\tt1.`name` AS ProductName, \n\tifnull(t2.Bugwjj, 0) AS Bugwjj, \n\tifnull(t2.Bugbydesign, 0) AS Bugbydesign, \n\tifnull(t2.Bugduplicate, 0) AS Bugduplicate, \n\tifnull(t2.Bugfixed, 0) AS Bugfixed, \n\tifnull(t2.Bugexternal, 0) AS Bugexternal, \n\tifnull(t2.Bugnotrepro, 0) AS Bugnotrepro, \n\tifnull(t2.Bugpostponed, 0) AS Bugpostponed, \n\tifnull(t2.Bugwillnotfix, 0) AS Bugwillnotfix, \n\tifnull(t2.BugEfficient, '100.00%') AS BugEfficient, \n\tifnull(t2.Bugtostory, 0) AS Bugtostory, \n\tifnull(t2.BUGTOTAL, 0) AS BUGTOTAL \n\tfrom zt_product t1 left join (SELECT\n\tt1.product, \n\tt1.project,\n\tsum( IF ( t1.resolution = '', t1.v1, 0 ) ) AS Bugwjj,\n\tsum( IF ( t1.resolution = 'bydesign', t1.v1, 0 ) ) AS Bugbydesign,\n\tSUM( IF ( t1.resolution = 'duplicate', t1.v1, 0 ) ) AS Bugduplicate,\n\tSUM( IF ( t1.resolution = 'fixed', t1.v1, 0 ) ) AS Bugfixed,\n\tSUM( IF ( t1.resolution = 'external', t1.v1, 0 ) ) AS Bugexternal,\n\tsum( IF ( t1.resolution = 'notrepro', t1.v1, 0 ) ) AS Bugnotrepro,\n\tSUM( IF ( t1.resolution = 'postponed', t1.v1, 0 ) ) AS Bugpostponed,\n\tSUM( IF ( t1.resolution = 'willnotfix', t1.v1, 0 ) ) AS Bugwillnotfix,\n\tCONCAT( ROUND( case when (SUM( IF ( t1.resolution = 'fixed', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'postponed', t1.v1, 0 ) )) = 0 then 0 else (SUM( IF ( t1.resolution = 'fixed', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'postponed', t1.v1, 0 ) ))/ (sum( IF ( t1.resolution = 'bydesign', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'duplicate', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'fixed', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'external', t1.v1, 0 ) ) + sum( IF ( t1.resolution = 'notrepro', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'postponed', t1.v1, 0 ) ) + SUM( IF ( t1.resolution = 'willnotfix', t1.v1, 0 ) )) * 100 end,2), '%') as BugEfficient,\n\tSUM( IF ( t1.resolution = 'tostory', t1.v1, 0 ) ) AS Bugtostory,\n\tSUM( t1.v1 ) AS BUGTOTAL \nFROM\n\t(\nSELECT\n\tt1.`OPENEDBY`,\n\tt1.`OPENEDDATE`,\n\tt1.`PRODUCT`,\n\tt1.`PROJECT`,\n\tt1.`RESOLUTION`,\n\t1 AS `V1` \nFROM\n\t`zt_bug` t1\nWHERE\n\tt1.deleted = '0'\n\t) t1 \nWHERE\n\t( t1.openedDate >= #{srf.datacontext.openeddatelt}  OR #{srf.datacontext.openeddatelt} IS NULL ) \n\tAND ( t1.openedDate <= #{srf.datacontext.openeddategt} OR #{srf.datacontext.openeddategt} is null ) \nGROUP BY\n\tt1.product) t2 on t1.id = t2.product\n\twhere t1.deleted = '0'\n\tAND ( t2.PRODUCT = #{srf.datacontext.producteq} OR #{srf.datacontext.producteq}  IS NULL ) \n\tAND ( t2.PROJECT = #{srf.datacontext.projecteq}  OR #{srf.datacontext.projecteq}  IS NULL )",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/BugStats/PSDEDATAQUERIES/ProductBugResolutionStats/PSDEDQCODES/MYSQL5.json"
}