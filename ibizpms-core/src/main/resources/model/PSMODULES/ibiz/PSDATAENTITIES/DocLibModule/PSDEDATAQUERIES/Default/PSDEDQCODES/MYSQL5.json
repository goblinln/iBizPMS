{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "getPSDEDataQueryCodeConds" : [ {
    "condType" : "CUSTOM",
    "customCond" : "t1.DELETED = '0'",
    "name" : "查询条件"
  } ],
  "getPSDEDataQueryCodeExps" : [ {
    "expression" : "t1.`COLLECTOR`",
    "name" : "COLLECTOR"
  }, {
    "expression" : "t1.`BRANCH`",
    "name" : "BRANCH"
  }, {
    "expression" : "t1.`CREATEBY`",
    "name" : "CREATEBY"
  }, {
    "expression" : "t1.`DELETED`",
    "name" : "DELETED"
  }, {
    "expression" : "(select count(1) from zt_doc t where t.deleted = '0' and t.module = t1.id) + (select count(1) from zt_module t where t.deleted = '0' and t.type = 'doc' and t.root = t1.root and t.parent = t1.id)",
    "name" : "DOCCNT"
  }, {
    "expression" : "t21.`NAME`",
    "name" : "DOCLIBNAME"
  }, {
    "expression" : "t1.`GRADE`",
    "name" : "GRADE"
  }, {
    "expression" : "t1.`ID`",
    "name" : "ID"
  }, {
    "expression" : "( CASE WHEN FIND_IN_SET( #{srf.sessioncontext.srfloginname}, t1.collector ) > 0 THEN 1 ELSE 0 END )",
    "name" : "ISFAVOURITES"
  }, {
    "expression" : "(CASE WHEN EXISTS (SELECT 1 FROM ZT_MODULE WHERE  PARENT = t1.`ID`) THEN FALSE ELSE TRUE  END )",
    "name" : "ISLEAF"
  }, {
    "expression" : "t1.`MDEPTID`",
    "name" : "MDEPTID"
  }, {
    "expression" : "t1.`MDEPTNAME`",
    "name" : "MDEPTNAME"
  }, {
    "expression" : "t11.`NAME`",
    "name" : "MODULENAME"
  }, {
    "expression" : "t1.`NAME`",
    "name" : "NAME"
  }, {
    "expression" : "t1.`ORDER`",
    "name" : "ORDER"
  }, {
    "expression" : "t1.`ORGID`",
    "name" : "ORGID"
  }, {
    "expression" : "t1.`ORGNAME`",
    "name" : "ORGNAME"
  }, {
    "expression" : "t1.`OWNER`",
    "name" : "OWNER"
  }, {
    "expression" : "t1.`PARENT`",
    "name" : "PARENT"
  }, {
    "expression" : "t1.`PATH`",
    "name" : "PATH"
  }, {
    "expression" : "t1.`ROOT`",
    "name" : "ROOT"
  }, {
    "expression" : "t1.`SHORT`",
    "name" : "SHORT"
  }, {
    "expression" : "t1.`TYPE`",
    "name" : "TYPE"
  }, {
    "expression" : "t1.`UPDATEBY`",
    "name" : "UPDATEBY"
  } ],
  "queryCode" : "SELECT\nt1.`BRANCH`,\nt1.`CREATEBY`,\nt1.`DELETED`,\n(select count(1) from zt_doc t where t.deleted = '0' and t.module = t1.id) + (select count(1) from zt_module t where t.deleted = '0' and t.type = 'doc' and t.root = t1.root and t.parent = t1.id) AS `DOCCNT`,\nt21.`NAME` AS `DOCLIBNAME`,\nt1.`GRADE`,\nt1.`ID`,\n( CASE WHEN FIND_IN_SET( #{srf.sessioncontext.srfloginname}, t1.collector ) > 0 THEN 1 ELSE 0 END ) AS `ISFAVOURITES`,\n(CASE WHEN EXISTS (SELECT 1 FROM ZT_MODULE WHERE  PARENT = t1.`ID`) THEN FALSE ELSE TRUE  END ) AS `ISLEAF`,\nt1.`MDEPTID`,\nt1.`MDEPTNAME`,\nt11.`NAME` AS `MODULENAME`,\nt1.`NAME`,\nt1.`ORDER`,\nt1.`ORGID`,\nt1.`ORGNAME`,\nt1.`OWNER`,\nt1.`PARENT`,\nt1.`PATH`,\nt1.`ROOT`,\nt1.`SHORT`,\nt1.`TYPE`,\nt1.`UPDATEBY`\nFROM `zt_module` t1 \nLEFT JOIN `zt_module` t11 ON t1.`PARENT` = t11.`ID` \nLEFT JOIN `zt_doclib` t21 ON t1.`ROOT` = t21.`ID` \n",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/DocLibModule/PSDEDATAQUERIES/Default/PSDEDQCODES/MYSQL5.json"
}