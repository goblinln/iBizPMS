{
  "dBType" : "MYSQL5",
  "name" : "MySQL5",
  "queryCode" : "SELECT\n\t*\nFROM\n\t(\n\t\t(\n\t\t\tSELECT DISTINCT\n\t\t\t\tLEFT (`end`, 4) AS `year`,product\n\t\t\tFROM\n\t\t\t\tzt_productplan,\n\t\t\t\t(\n\t\t\t\t\tSELECT\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tCASE\n\t\t\t\t\t\t\tWHEN MIN(LEFT(`date`, 4)) IS NULL THEN\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\tELSE\n\t\t\t\t\t\t\t\tMIN(LEFT(`date`, 4))\n\t\t\t\t\t\t\tEND\n\t\t\t\t\t\t) AS `minyear`\n\t\t\t\t\tFROM\n\t\t\t\t\t\tzt_release\n\t\t\t\t\tWHERE\n\t\t\t\t\t\tdeleted = '0'\n\t\t\t\t\tAND product = ${srfdatacontext('product','{\"defname\":\"product\",\"dename\":\"IBZ_PRODUCTLIFE\"}')}\n\t\t\t\t\tAND (#{srf.datacontext.branch} is null or branch =  #{srf.datacontext.branch})\n\t\t\t\t) ztr\n\t\t\tWHERE\n\t\t\t\tdeleted = '0'\n\t\t\tAND product = ${srfdatacontext('product','{\"defname\":\"product\",\"dename\":\"IBZ_PRODUCTLIFE\"}')}\n\t\t\tAND (#{srf.datacontext.branch} is null or branch =  #{srf.datacontext.branch})\n\t\t\tAND LEFT (`end`, 4) < '2030'\n\t\t\tAND LEFT (`end`, 4) > `minyear`\n\t\t)\n\t\tUNION\n\t\t\t(\n\t\t\t\tSELECT DISTINCT\n\t\t\t\t\tLEFT (`date`, 4) AS `year`,product\n\t\t\t\tFROM\n\t\t\t\t\tzt_release\n\t\t\t\tWHERE\n\t\t\t\t\tdeleted = '0'\n\t\t\t\tAND product = ${srfdatacontext('product','{\"defname\":\"product\",\"dename\":\"IBZ_PRODUCTLIFE\"}')}\n\t\t\t\tAND (#{srf.datacontext.branch} is null or branch =  #{srf.datacontext.branch})\n\t\t\t)\n\t) as t1",
  "id" : "PSMODULES/ibiz/PSDATAENTITIES/ProductLife/PSDEDATAQUERIES/RoadMapYear/PSDEDQCODES/MYSQL5.json"
}